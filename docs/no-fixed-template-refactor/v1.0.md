## ğŸ¯ åŠ¨æ€æ¨¡æ¿é…ç½®æå–æ–¹æ¡ˆ

åŸºäºå¯¹å½“å‰ä»£ç çš„åˆ†æï¼Œæˆ‘è®¾è®¡äº†ä¸€ä¸ªå®Œæ•´çš„é…ç½®æå–æ–¹æ¡ˆï¼Œå°†åŠ¨æ€æ¨¡æ¿ä¸­çš„ç¡¬ç¼–ç é…ç½®æå–åˆ°ç‹¬ç«‹çš„é…ç½®æ–‡ä»¶ä¸­ã€‚

### ğŸ“‹ å½“å‰ç¡¬ç¼–ç é—®é¢˜åˆ†æ

é€šè¿‡ä»£ç åˆ†æï¼Œå‘ç°ä»¥ä¸‹ç¡¬ç¼–ç é—®é¢˜ï¼š

1. **ä¾èµ–ç‰ˆæœ¬ç¡¬ç¼–ç ** - å„Builderä¸­ç›´æ¥å†™æ­»npmåŒ…ç‰ˆæœ¬
2. **è„šæœ¬é…ç½®ç¡¬ç¼–ç ** - package.json scriptsç›´æ¥åœ¨ä»£ç ä¸­å®šä¹‰
3. **é…ç½®æ–‡ä»¶æ¨¡æ¿ç¡¬ç¼–ç ** - tsconfig.jsonã€vite.config.tsç­‰æ–‡ä»¶å†…å®¹ç¡¬ç¼–ç 
4. **æ„å»ºå·¥å…·é…ç½®ç¡¬ç¼–ç ** - æ¯ä¸ªBuilderéƒ½æœ‰å¤§é‡ç‰¹å®šé…ç½®
5. **å·¥å…·å·®å¼‚åŒ–é…ç½®ç¼ºå¤±** - MCP Serverã€CLIç­‰ä¸åŒå·¥å…·æ— æ³•ä½¿ç”¨ä¸åŒé…ç½®

### ğŸ—ï¸ é…ç½®æ–‡ä»¶ç»“æ„è®¾è®¡

åŸºäºç°æœ‰çš„ `configs/` ç›®å½•ç»“æ„ï¼Œè®¾è®¡åˆ†å±‚é…ç½®ç³»ç»Ÿï¼š

```
configs/
â”œâ”€â”€ common/                          # é€šç”¨é…ç½®
â”‚   â”œâ”€â”€ dependencies/               # ä¾èµ–ç‰ˆæœ¬ç®¡ç†
â”‚   â”‚   â”œâ”€â”€ base.json              # åŸºç¡€ä¾èµ–ç‰ˆæœ¬
â”‚   â”‚   â”œâ”€â”€ frameworks/            # æ¡†æ¶ç‰¹å®šä¾èµ–
â”‚   â”‚   â”‚   â”œâ”€â”€ vue3.json         # Vue3ç›¸å…³ä¾èµ–
â”‚   â”‚   â”‚   â”œâ”€â”€ react.json        # Reactç›¸å…³ä¾èµ–
â”‚   â”‚   â”‚   â””â”€â”€ electron.json     # Electronç›¸å…³ä¾èµ–
â”‚   â”‚   â””â”€â”€ builders/              # æ„å»ºå·¥å…·ä¾èµ–
â”‚   â”‚       â”œâ”€â”€ vite.json         # Viteç›¸å…³ä¾èµ–
â”‚   â”‚       â”œâ”€â”€ webpack.json      # Webpackç›¸å…³ä¾èµ–
â”‚   â”‚       â””â”€â”€ umi.json          # UmiJSç›¸å…³ä¾èµ–
â”‚   â”œâ”€â”€ scripts/                   # è„šæœ¬é…ç½®
â”‚   â”‚   â”œâ”€â”€ base.json             # åŸºç¡€è„šæœ¬
â”‚   â”‚   â”œâ”€â”€ frameworks/           # æ¡†æ¶ç‰¹å®šè„šæœ¬
â”‚   â”‚   â””â”€â”€ builders/             # æ„å»ºå·¥å…·ç‰¹å®šè„šæœ¬
â”‚   â”œâ”€â”€ file-templates/           # é…ç½®æ–‡ä»¶æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ tsconfig/             # TypeScripté…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ vite/                 # Viteé…ç½®æ¨¡æ¿
â”‚   â”‚   â”œâ”€â”€ webpack/              # Webpacké…ç½®æ¨¡æ¿
â”‚   â”‚   â””â”€â”€ package/              # package.jsonæ¨¡æ¿ç‰‡æ®µ
â”‚   â””â”€â”€ builders/                 # æ„å»ºå™¨é…ç½®
â”‚       â”œâ”€â”€ vite.json            # Viteæ„å»ºå™¨é…ç½®
â”‚       â”œâ”€â”€ webpack.json         # Webpackæ„å»ºå™¨é…ç½®
â”‚       â”œâ”€â”€ electron-vite.json   # Electron Viteæ„å»ºå™¨é…ç½®
â”‚       â””â”€â”€ umi.json             # UmiJSæ„å»ºå™¨é…ç½®
â”œâ”€â”€ tools/                        # å·¥å…·ç‰¹å®šé…ç½®
â”‚   â”œâ”€â”€ mcp-server/              # MCP Serverç‰¹å®šé…ç½®
â”‚   â”‚   â”œâ”€â”€ dependencies/        # MCP Serverç‰¹å®šä¾èµ–è¦†ç›–
â”‚   â”‚   â”œâ”€â”€ scripts/             # MCP Serverç‰¹å®šè„šæœ¬
â”‚   â”‚   â””â”€â”€ file-templates/      # MCP Serverç‰¹å®šæ–‡ä»¶æ¨¡æ¿
â”‚   â”œâ”€â”€ cli-tool/               # CLIå·¥å…·ç‰¹å®šé…ç½®
â”‚   â””â”€â”€ vscode-extension/       # VSCodeæ‰©å±•ç‰¹å®šé…ç½®
â””â”€â”€ environments/               # ç¯å¢ƒç‰¹å®šé…ç½®
    â”œâ”€â”€ development.json        # å¼€å‘ç¯å¢ƒé…ç½®
    â”œâ”€â”€ production.json         # ç”Ÿäº§ç¯å¢ƒé…ç½®
    â””â”€â”€ testing.json           # æµ‹è¯•ç¯å¢ƒé…ç½®
```

### ğŸ“„ é…ç½®æ–‡ä»¶æ ¼å¼è®¾è®¡

#### 1. ä¾èµ–ç‰ˆæœ¬é…ç½® (`dependencies/base.json`)
```json
{
  "dependencies": {
    "vue": "^3.4.0",
    "react": "^18.2.0",
    "react-dom": "^18.2.0"
  },
  "devDependencies": {
    "typescript": "^5.3.0",
    "@types/node": "^20.10.0",
    "vite": "^5.0.0",
    "webpack": "^5.89.0"
  },
  "peerDependencies": {
    "node": ">=18.0.0"
  }
}
```

#### 2. è„šæœ¬é…ç½® (`scripts/base.json`)
```json
{
  "scripts": {
    "dev": "{{builder_dev_command}}",
    "build": "{{builder_build_command}}",
    "preview": "{{builder_preview_command}}",
    "lint": "eslint src --ext .ts,.tsx,.js,.jsx,.vue",
    "format": "prettier --write src",
    "test": "{{test_runner}}"
  },
  "variables": {
    "builder_dev_command": {
      "vite": "vite",
      "webpack": "webpack serve",
      "umi": "umi dev"
    },
    "builder_build_command": {
      "vite": "{{typescript ? 'tsc && ' : ''}}vite build",
      "webpack": "webpack --mode production",
      "umi": "umi build"
    }
  }
}
```

#### 3. æ„å»ºå™¨é…ç½® (`builders/vite.json`)
```json
{
  "name": "vite",
  "dependencies": {
    "extends": ["common/dependencies/base.json"],
    "devDependencies": {
      "vite": "^5.0.0"
    }
  },
  "scripts": {
    "extends": ["common/scripts/base.json"],
    "overrides": {
      "dev": "vite",
      "build": "{{typescript ? 'tsc && ' : ''}}vite build",
      "preview": "vite preview"
    }
  },
  "fileTemplates": {
    "vite.config.ts": "common/file-templates/vite/config.template",
    "index.html": "common/file-templates/vite/index.template"
  },
  "supportedFrameworks": ["vue3", "react"],
  "defaultOptions": {
    "typescript": true,
    "eslint": true,
    "prettier": true
  }
}
```

#### 4. æ–‡ä»¶æ¨¡æ¿ (`file-templates/vite/config.template`)
```typescript
import { defineConfig } from 'vite'
{{#if framework.vue3}}
import vue from '@vitejs/plugin-vue'
{{/if}}
{{#if framework.react}}
import react from '@vitejs/plugin-react'
{{/if}}

export default defineConfig({
  plugins: [
    {{#if framework.vue3}}vue(){{/if}}
    {{#if framework.react}}react(){{/if}}
  ],
  resolve: {
    alias: {
      '@': '/src'
    }
  }
  {{#if additional_config}}
  ,{{additional_config}}
  {{/if}}
})
```

#### 5. å·¥å…·ç‰¹å®šé…ç½® (`tools/mcp-server/dependencies/overrides.json`)
```json
{
  "devDependencies": {
    "@types/node": "^20.10.0",
    "typescript": "^5.3.0"
  },
  "scripts": {
    "mcp:install": "npm link",
    "mcp:test": "node test-mcp-integration.js"
  },
  "excludeFromBuild": [
    "test-*",
    "*.test.*",
    "examples/"
  ]
}
```

### ğŸ”§ é…ç½®åŠ è½½æœºåˆ¶è®¾è®¡

#### 1. é…ç½®ç»§æ‰¿å’Œåˆå¹¶ç­–ç•¥
- **åŸºç¡€é…ç½®** â†’ **æ¡†æ¶é…ç½®** â†’ **æ„å»ºå·¥å…·é…ç½®** â†’ **å·¥å…·ç‰¹å®šé…ç½®** â†’ **ç¯å¢ƒé…ç½®**
- ååŠ è½½çš„é…ç½®è¦†ç›–å…ˆåŠ è½½çš„é…ç½®
- æ”¯æŒæ•°ç»„åˆå¹¶ã€å¯¹è±¡æ·±åº¦åˆå¹¶

#### 2. æ¨¡æ¿å˜é‡ç³»ç»Ÿ
- æ”¯æŒæ¡ä»¶æ¸²æŸ“ï¼š`{{#if typescript}}...{{/if}}`
- æ”¯æŒå˜é‡æ›¿æ¢ï¼š`{{project_name}}`ã€`{{framework}}`
- æ”¯æŒè®¡ç®—è¡¨è¾¾å¼ï¼š`{{typescript ? 'tsc && ' : ''}}`

#### 3. é…ç½®éªŒè¯æœºåˆ¶
- JSON SchemaéªŒè¯é…ç½®æ–‡ä»¶æ ¼å¼
- ä¾èµ–ç‰ˆæœ¬å…¼å®¹æ€§æ£€æŸ¥
- æ¨¡æ¿å˜é‡å®Œæ•´æ€§éªŒè¯

### ğŸš€ å®ç°æ­¥éª¤

#### é˜¶æ®µ1ï¼šé…ç½®æ–‡ä»¶åˆ›å»º
1. åˆ›å»ºåŸºç¡€é…ç½®æ–‡ä»¶ç»“æ„
2. ä»ç°æœ‰Builderä»£ç ä¸­æå–ç¡¬ç¼–ç é…ç½®
3. æŒ‰æ¡†æ¶å’Œæ„å»ºå·¥å…·åˆ†ç±»æ•´ç†é…ç½®

#### é˜¶æ®µ2ï¼šé…ç½®åŠ è½½å™¨å¢å¼º
1. æ‰©å±•ç°æœ‰çš„ConfigLoaderæ”¯æŒæ–°çš„é…ç½®ç±»å‹
2. å®ç°é…ç½®ç»§æ‰¿å’Œåˆå¹¶é€»è¾‘
3. æ·»åŠ æ¨¡æ¿å˜é‡è§£æåŠŸèƒ½

#### é˜¶æ®µ3ï¼šBuilderé‡æ„
1. é‡æ„å„ä¸ªBuilderç±»ï¼Œç§»é™¤ç¡¬ç¼–ç é…ç½®
2. ä½¿ç”¨é…ç½®åŠ è½½å™¨è·å–åŠ¨æ€é…ç½®
3. ä¿æŒå‘åå…¼å®¹æ€§

#### é˜¶æ®µ4ï¼šå·¥å…·ç‰¹å®šé…ç½®
1. ä¸ºä¸åŒå·¥å…·ï¼ˆMCP Serverã€CLIç­‰ï¼‰åˆ›å»ºç‰¹å®šé…ç½®
2. å®ç°å·¥å…·é…ç½®é€‰æ‹©é€»è¾‘
3. æµ‹è¯•ä¸åŒå·¥å…·çš„é…ç½®å·®å¼‚

### ğŸ’¡ ä¼˜åŠ¿

1. **é…ç½®é›†ä¸­ç®¡ç†** - æ‰€æœ‰é…ç½®ç»Ÿä¸€ç®¡ç†ï¼Œæ˜“äºç»´æŠ¤
2. **å·¥å…·å·®å¼‚åŒ–** - æ”¯æŒä¸åŒå·¥å…·ä½¿ç”¨ä¸åŒé…ç½®
3. **ç‰ˆæœ¬ç»Ÿä¸€ç®¡ç†** - ä¾èµ–ç‰ˆæœ¬é›†ä¸­ç®¡ç†ï¼Œé¿å…ç‰ˆæœ¬å†²çª
4. **æ¨¡æ¿å¤ç”¨** - é…ç½®æ–‡ä»¶æ¨¡æ¿å¯å¤ç”¨ï¼Œå‡å°‘é‡å¤ä»£ç 
5. **æ˜“äºæ‰©å±•** - æ–°å¢æ¡†æ¶æˆ–æ„å»ºå·¥å…·åªéœ€æ·»åŠ é…ç½®æ–‡ä»¶
6. **å‘åå…¼å®¹** - ä¿æŒç°æœ‰APIä¸å˜ï¼Œæ¸è¿›å¼è¿ç§»

è¿™ä¸ªæ–¹æ¡ˆå°†å½»åº•è§£å†³åŠ¨æ€æ¨¡æ¿ä¸­çš„ç¡¬ç¼–ç é—®é¢˜ï¼ŒåŒæ—¶ä¸ºä¸åŒå·¥å…·æä¾›å·®å¼‚åŒ–é…ç½®æ”¯æŒï¼Œå¤§å¤§æå‡ç³»ç»Ÿçš„å¯ç»´æŠ¤æ€§å’Œæ‰©å±•æ€§ã€‚
        