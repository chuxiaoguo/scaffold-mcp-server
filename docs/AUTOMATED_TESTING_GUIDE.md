# è‡ªåŠ¨åŒ–åœºæ™¯æµ‹è¯•æŒ‡å—

## æµ‹è¯•è„šæœ¬è¯´æ˜

æˆ‘ä»¬æä¾›äº†ä¸¤ä¸ªè‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬æ¥éªŒè¯æ‰€æœ‰åœºæ™¯ï¼š

### 1. å®Œæ•´æµ‹è¯•è„šæœ¬ (æ¨èç”¨äº CI/CD)

**æ–‡ä»¶**: `test-all-scenarios-complete.js`

**åŠŸèƒ½**:
- âœ… é¡¹ç›®ç”Ÿæˆ
- âœ… æ–‡ä»¶å®Œæ•´æ€§æ£€æŸ¥
- âœ… ä¾èµ–å®‰è£…
- âœ… é¡¹ç›®æ„å»º
- âœ… å¼€å‘æœåŠ¡å™¨å¯åŠ¨æµ‹è¯•

**ä½¿ç”¨æ–¹æ³•**:
```bash
node test-all-scenarios-complete.js
```

**ç‰¹ç‚¹**:
- å…¨é¢æµ‹è¯•æ‰€æœ‰ç¯èŠ‚
- è‡ªåŠ¨æ¸…ç†æ—§é¡¹ç›®
- è¯¦ç»†çš„æ—¥å¿—è¾“å‡º
- å½©è‰²ç»ˆç«¯æ˜¾ç¤º
- ç”Ÿæˆå®Œæ•´æµ‹è¯•æŠ¥å‘Š

**é¢„è®¡è€—æ—¶**: 15-25 åˆ†é’Ÿï¼ˆå–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰

---

### 2. å¿«é€Ÿæµ‹è¯•è„šæœ¬ (æ¨èç”¨äºæ—¥å¸¸å¼€å‘)

**æ–‡ä»¶**: `test-scenarios-quick.js`

**åŠŸèƒ½**:
- âœ… é¡¹ç›®ç”Ÿæˆ
- âœ… ä¾èµ–å®‰è£…
- âœ… é¡¹ç›®æ„å»º

**ä½¿ç”¨æ–¹æ³•**:
```bash
node test-scenarios-quick.js
```

**ç‰¹ç‚¹**:
- è·³è¿‡ dev server æµ‹è¯•ï¼ˆé¿å…ç«¯å£å†²çªå’Œè¶…æ—¶ï¼‰
- å¿«é€ŸéªŒè¯æ ¸å¿ƒåŠŸèƒ½
- ç®€æ´çš„è¾“å‡º
- é€‚åˆé¢‘ç¹æµ‹è¯•

**é¢„è®¡è€—æ—¶**: 8-15 åˆ†é’Ÿï¼ˆå–å†³äºç½‘ç»œé€Ÿåº¦ï¼‰

---

## æµ‹è¯•åœºæ™¯åˆ—è¡¨

### åœºæ™¯ 1: Vue3 + Vite + JavaScript + Element Plus
```
æŠ€æœ¯æ ˆ: vue3 + vite + javascript + element-plus
é¡¹ç›®å: test-s1-vue3-vite-js
```

**æµ‹è¯•ç‚¹**:
- NpmrcInjector æ³¨å…¥
- Vue3Injector ç”Ÿæˆ
- ViteInjector é…ç½®
- ElementPlusInjector UIåº“
- JavaScript (é TypeScript)

---

### åœºæ™¯ 2: Vue3 + Webpack + Element Plus
```
æŠ€æœ¯æ ˆ: vue3 + webpack + element-plus
é¡¹ç›®å: test-s2-vue3-webpack
```

**æµ‹è¯•ç‚¹**:
- NpmrcInjector æ³¨å…¥
- Vue3Injector ç”Ÿæˆ
- WebpackInjector é…ç½®
- ElementPlusInjector UIåº“
- TypeScript é»˜è®¤é…ç½®

---

### åœºæ™¯ 3: Vue3 + Webpack + TypeScript + å…¨å®¶æ¡¶
```
æŠ€æœ¯æ ˆ: vue3 + webpack + typescript + element-plus + eslint + prettier + pinia + vue-router
é¡¹ç›®å: test-s3-vue3-full
```

**æµ‹è¯•ç‚¹**:
- NpmrcInjector æ³¨å…¥
- TypeScriptInjector é…ç½®
- Vue3Injector ç”Ÿæˆ
- WebpackInjector é…ç½®
- ElementPlusInjector UIåº“
- **PiniaInjector çŠ¶æ€ç®¡ç†** â­ æ–°å¢
- **VueRouterInjector è·¯ç”±** â­ æ–°å¢
- ESLintInjector ä»£ç æ£€æŸ¥
- PrettierInjector ä»£ç æ ¼å¼åŒ–

**å…³é”®æ–‡ä»¶**:
- `src/stores/counter.ts` - Pinia store
- `src/router/index.ts` - Vue Router é…ç½®
- `.eslintrc.cjs` - ESLint é…ç½®
- `.prettierrc` - Prettier é…ç½®

---

### åœºæ™¯ 4: React + Vite + TypeScript + Redux + Router
```
æŠ€æœ¯æ ˆ: react + vite + typescript + redux + react-router
é¡¹ç›®å: test-s4-react-full
```

**æµ‹è¯•ç‚¹**:
- NpmrcInjector æ³¨å…¥
- TypeScriptInjector é…ç½®
- ReactInjector ç”Ÿæˆ
- ViteInjector é…ç½®
- **ReduxInjector çŠ¶æ€ç®¡ç†** â­ æ–°å¢
- **ReactRouterInjector è·¯ç”±** â­ æ–°å¢

**å…³é”®æ–‡ä»¶**:
- `src/store/index.ts` - Redux store é…ç½®
- `src/store/counterSlice.ts` - Redux slice
- `src/store/hooks.ts` - ç±»å‹åŒ– hooks
- `src/routes.tsx` - React Router é…ç½®
- `src/pages/Home.tsx` - é¦–é¡µç»„ä»¶

---

## æµ‹è¯•æµç¨‹è¯¦è§£

### é˜¶æ®µ 1: é¡¹ç›®ç”Ÿæˆ âœ…

è°ƒç”¨ `generateScaffold()` API ç”Ÿæˆé¡¹ç›®ï¼š

```javascript
await generateScaffold({
  tech_stack: 'vue3 + vite + javascript + element-plus',
  project_name: 'test-project',
  project_path: '/path/to/workspace',
});
```

**éªŒè¯ç‚¹**:
- é¡¹ç›®ç›®å½•å·²åˆ›å»º
- package.json å­˜åœ¨
- æ ¸å¿ƒæ–‡ä»¶é½å…¨

---

### é˜¶æ®µ 2: ä¾èµ–å®‰è£… âœ…

æ‰§è¡Œ npm installï¼š

```bash
cd test-project
npm install --legacy-peer-deps
```

**éªŒè¯ç‚¹**:
- node_modules ç›®å½•å·²åˆ›å»º
- package-lock.json ç”Ÿæˆ
- æ— å®‰è£…é”™è¯¯

**ä½¿ç”¨é˜¿é‡Œäº‘é•œåƒæº**:
- é…ç½®æ–‡ä»¶: `.npmrc`
- é•œåƒåœ°å€: `registry.npmmirror.com`
- é¢„è®¡é€Ÿåº¦æå‡: 3-6 å€

---

### é˜¶æ®µ 3: é¡¹ç›®æ„å»º âœ…

æ‰§è¡Œæ„å»ºå‘½ä»¤ï¼š

```bash
npm run build
```

**éªŒè¯ç‚¹**:
- æ„å»ºæˆåŠŸï¼Œæ— é”™è¯¯
- dist ç›®å½•å·²åˆ›å»º
- åŒ…å« index.html å’Œæ‰“åŒ…æ–‡ä»¶

**å¸¸è§æ„å»ºäº§ç‰©**:
- Vite: `dist/index.html`, `dist/assets/*.js`, `dist/assets/*.css`
- Webpack: `dist/bundle.js`, `dist/index.html`

---

### é˜¶æ®µ 4: å¼€å‘æœåŠ¡å™¨ (å¯é€‰) âš ï¸

å¯åŠ¨å¼€å‘æœåŠ¡å™¨ï¼š

```bash
npm run dev
```

**éªŒè¯ç‚¹**:
- æœåŠ¡å™¨æˆåŠŸå¯åŠ¨
- ç›‘å¬æ­£ç¡®ç«¯å£
- çƒ­æ›´æ–°å·¥ä½œæ­£å¸¸

**æ³¨æ„**:
- å¿«é€Ÿæµ‹è¯•è„šæœ¬è·³è¿‡æ­¤æ­¥éª¤
- å®Œæ•´æµ‹è¯•è„šæœ¬ä¼šè‡ªåŠ¨æ£€æµ‹ç«¯å£å†²çª
- è¶…æ—¶æ—¶é—´: 30 ç§’

---

## æµ‹è¯•æŠ¥å‘Šç¤ºä¾‹

### æˆåŠŸç¤ºä¾‹

```
ğŸ“Š æµ‹è¯•æŠ¥å‘Š
============================================================

âœ… åœºæ™¯ 1: Vue3 + Vite + JS + Element Plus
   ç”Ÿæˆ: âœ…  å®‰è£…: âœ…  æ„å»º: âœ…

âœ… åœºæ™¯ 2: Vue3 + Webpack + Element Plus
   ç”Ÿæˆ: âœ…  å®‰è£…: âœ…  æ„å»º: âœ…

âœ… åœºæ™¯ 3: Vue3 + Webpack + TS + å…¨å®¶æ¡¶
   ç”Ÿæˆ: âœ…  å®‰è£…: âœ…  æ„å»º: âœ…

âœ… åœºæ™¯ 4: React + Vite + TS + Redux + Router
   ç”Ÿæˆ: âœ…  å®‰è£…: âœ…  æ„å»º: âœ…

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡: 4/4 é€šè¿‡ (100.0%)
è€—æ—¶: 324.5 ç§’
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

ğŸ‰ æ‰€æœ‰åœºæ™¯æµ‹è¯•é€šè¿‡ï¼
```

### å¤±è´¥ç¤ºä¾‹

```
ğŸ“Š æµ‹è¯•æŠ¥å‘Š
============================================================

âœ… åœºæ™¯ 1: Vue3 + Vite + JS + Element Plus
   ç”Ÿæˆ: âœ…  å®‰è£…: âœ…  æ„å»º: âœ…

âŒ åœºæ™¯ 2: Vue3 + Webpack + Element Plus
   ç”Ÿæˆ: âœ…  å®‰è£…: âœ…  æ„å»º: âŒ
   é”™è¯¯: Webpack compilation failed

â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€
æ€»è®¡: 1/4 é€šè¿‡ (25.0%)
è€—æ—¶: 156.2 ç§’
â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€

âš ï¸  éƒ¨åˆ†åœºæ™¯å¤±è´¥
```

---

## å¸¸è§é—®é¢˜

### Q1: æµ‹è¯•å¤ªæ…¢æ€ä¹ˆåŠï¼Ÿ

**A**: ä½¿ç”¨å¿«é€Ÿæµ‹è¯•è„šæœ¬ï¼š
```bash
node test-scenarios-quick.js
```

### Q2: ç«¯å£è¢«å ç”¨æ€ä¹ˆåŠï¼Ÿ

**A**: 
- å®Œæ•´æµ‹è¯•è„šæœ¬ä¼šè‡ªåŠ¨è·³è¿‡ç«¯å£å†²çªçš„ dev æµ‹è¯•
- æˆ–æ‰‹åŠ¨å…³é—­å ç”¨ç«¯å£çš„è¿›ç¨‹ï¼š
```bash
lsof -i :5173  # æŸ¥çœ‹å ç”¨è¿›ç¨‹
kill -9 <PID>  # å…³é—­è¿›ç¨‹
```

### Q3: å¦‚ä½•åªæµ‹è¯•æŸä¸ªåœºæ™¯ï¼Ÿ

**A**: ä¿®æ”¹è„šæœ¬ä¸­çš„ `scenarios` æ•°ç»„ï¼Œæ³¨é‡Šæ‰ä¸éœ€è¦çš„åœºæ™¯ï¼š
```javascript
const scenarios = [
  // åªæµ‹è¯•åœºæ™¯ 1
  scenarios[0],
];
```

### Q4: ä¾èµ–å®‰è£…å¤±è´¥æ€ä¹ˆåŠï¼Ÿ

**A**: æ£€æŸ¥ï¼š
1. ç½‘ç»œè¿æ¥æ˜¯å¦æ­£å¸¸
2. `.npmrc` æ˜¯å¦æ­£ç¡®é…ç½®
3. Node.js ç‰ˆæœ¬æ˜¯å¦ç¬¦åˆè¦æ±‚ (>= 16.0.0)
4. æ‰‹åŠ¨åˆ é™¤é¡¹ç›®é‡æ–°æµ‹è¯•

### Q5: å¦‚ä½•è°ƒè¯•å¤±è´¥çš„åœºæ™¯ï¼Ÿ

**A**: 
1. ä¿ç•™å¤±è´¥çš„æµ‹è¯•é¡¹ç›®ï¼ˆä¸è¦æ¸…ç†ï¼‰
2. è¿›å…¥é¡¹ç›®ç›®å½•ï¼š
```bash
cd test-s2-vue3-webpack
```
3. æ‰‹åŠ¨æ‰§è¡Œå‘½ä»¤æŸ¥çœ‹è¯¦ç»†é”™è¯¯ï¼š
```bash
npm install --legacy-peer-deps
npm run build
```

---

## æ€§èƒ½ä¼˜åŒ–å»ºè®®

### 1. ä½¿ç”¨ pnpm

å¦‚æœå®‰è£…äº† pnpmï¼Œå¯ä»¥ç¼–è¾‘è„šæœ¬æ›¿æ¢ npmï¼š
```javascript
execSync('pnpm install', { ... })
```

### 2. å¹¶è¡Œæµ‹è¯•

å¯ä»¥ä¿®æ”¹è„šæœ¬æ”¯æŒå¹¶è¡Œæµ‹è¯•ï¼ˆéœ€è¦æ³¨æ„èµ„æºæ¶ˆè€—ï¼‰ï¼š
```javascript
const results = await Promise.all(
  scenarios.map(s => testScenario(s))
);
```

### 3. ç¼“å­˜ä¾èµ–

å¤šæ¬¡æµ‹è¯•æ—¶å¯ä»¥ä½¿ç”¨ npm cacheï¼š
```bash
npm cache verify
```

---

## CI/CD é›†æˆ

### GitHub Actions ç¤ºä¾‹

```yaml
name: Test Scenarios
on: [push, pull_request]

jobs:
  test:
    runs-on: ubuntu-latest
    steps:
      - uses: actions/checkout@v3
      
      - name: Setup Node.js
        uses: actions/setup-node@v3
        with:
          node-version: '18'
      
      - name: Install Dependencies
        run: npm install
      
      - name: Build Project
        run: npm run build
      
      - name: Run Scenario Tests
        run: node test-scenarios-quick.js
```

### GitLab CI ç¤ºä¾‹

```yaml
test-scenarios:
  stage: test
  image: node:18
  script:
    - npm install
    - npm run build
    - node test-scenarios-quick.js
  artifacts:
    paths:
      - test-s*-*/dist
    expire_in: 1 week
```

---

## æµ‹è¯•æ¸…å•

åœ¨å‘å¸ƒæ–°ç‰ˆæœ¬å‰ï¼Œè¯·ç¡®ä¿ï¼š

- [ ] æ‰€æœ‰ 4 ä¸ªåœºæ™¯æµ‹è¯•é€šè¿‡
- [ ] ç”Ÿæˆçš„é¡¹ç›®ç»“æ„æ­£ç¡®
- [ ] ä¾èµ–å®‰è£…æ— é”™è¯¯
- [ ] æ„å»ºæˆåŠŸï¼Œæ— è­¦å‘Š
- [ ] å¼€å‘æœåŠ¡å™¨æ­£å¸¸å¯åŠ¨
- [ ] çƒ­æ›´æ–°å·¥ä½œæ­£å¸¸
- [ ] TypeScript ç¼–è¯‘é€šè¿‡
- [ ] ESLint æ£€æŸ¥é€šè¿‡
- [ ] ç”Ÿæˆçš„ä»£ç ç¬¦åˆè§„èŒƒ

---

## æ€»ç»“

è‡ªåŠ¨åŒ–æµ‹è¯•è„šæœ¬å¸®åŠ©æˆ‘ä»¬ï¼š

âœ… **å¿«é€ŸéªŒè¯** - å‡ åˆ†é’Ÿå†…æµ‹è¯•æ‰€æœ‰åœºæ™¯  
âœ… **å…¨é¢è¦†ç›–** - ä»ç”Ÿæˆåˆ°æ„å»ºçš„å®Œæ•´æµç¨‹  
âœ… **åŠæ—©å‘ç°é—®é¢˜** - åœ¨å‘å¸ƒå‰æ•è·é”™è¯¯  
âœ… **æå‡ä¿¡å¿ƒ** - ç¡®ä¿ä»£ç è´¨é‡  
âœ… **èŠ‚çœæ—¶é—´** - è‡ªåŠ¨åŒ–æ›¿ä»£æ‰‹åŠ¨æµ‹è¯•  

**æ¨èå·¥ä½œæµ**:
1. å¼€å‘æ—¶ä½¿ç”¨ `test-scenarios-quick.js` å¿«é€ŸéªŒè¯
2. å‘å¸ƒå‰ä½¿ç”¨ `test-all-scenarios-complete.js` å…¨é¢æµ‹è¯•
3. CI/CD ä¸­é›†æˆè‡ªåŠ¨åŒ–æµ‹è¯•

---

**æœ€åæ›´æ–°**: 2025-10-28  
**æµ‹è¯•è„šæœ¬ç‰ˆæœ¬**: 1.0.0  
**æ”¯æŒçš„åœºæ™¯æ•°**: 4
